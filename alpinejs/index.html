<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    
    
    <style>
      @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap');
      button {
        border: 0;
        background: none;
        cursor: pointer;
      }
      *, *::before, *::after {
        box-sizing: border-box;
      }
      .container {
        border: 1px solid #D9D9D9;
        font-size: 16px;
        position: relative;
        border-radius: 4px;
        overflow: hidden;
        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.05);
        font-family:
        ui-sans-serif,
        -apple-system,
        BlinkMacSystemFont,
        "Segoe UI",
        Roboto,
        sans-serif;
      }
      .header {
        height: 48px;
        padding: 0px 16px;
      }
      
      .border-bottom {
        border-bottom: 1px solid #D9D9D9;
      }
      
      .jet {
        font-family: 'JetBrains Mono', monospace;
        font-size: 13px;
      }
      textarea {
        padding: 0;
        margin: 0;
        width: 100%;
        height: 340px;
        border: 0;
        padding: 0 16px;
        resize: none;
        background: none;
      }
      textarea:focus {
        outline: none;
      }
      
      .grid-background {
        background-color: #f9f9f9;
        background-image: radial-gradient(rgba(0, 0, 0, 0.05) 1.2px, transparent 0);
        background-size: 12px 12px;
      }
      
      .body,
      vstack.right {
        background-color: #F9F9F9;
      }
      
      button#run-button {
        cursor: not-allowed;
        opacity: 0.5;
        will-change: opacity;
        transition: opacity 0.2s ease;
      }
      
      button#run-button.canRun {
        opacity: 1;
        cursor: pointer;
      }
      
      button#run-button.canRun:hover {
        opacity: 0.5;
      }
      
      button#clear {
        font-size: 16px;
        width:32px;
        border-radius: 2px;
        transition: background-color 0.2s ease;
        cursor: pointer;
      }
      
      button#clear:hover {
        background-color: #E3E3E3;
      }
      
      #count {
        font-size: 13px;
        font-weight: bold;
        padding: 16px;
      }
      
      #mobile-version {
        display: block;
      }
      
      .footer {
        position: absolute;
        padding: 0px 12px;
        bottom: 0;
        left: 0;
        right: 0;
      }
      
      .body {
        position: relative;
        height: 300px;
      }
      
      .status-indicator {
        position: relative;
        width: 20px;
        height: 20px;
      }
      
      .status-indicator * {
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        transition: opacity 0.2s ease;
      }
      
      #regular-version {
        /*display: none;*/
      }
      
      
      
      @media (min-width: 480px) {
        #regular-version {
          display: flex;
        }
        
        vstack.left {
          
          border-right: 1px solid #D9D9D9;
        }
      }
      
      @media (max-width: 480px) {
        #regular-version {
          flex-direction: column;
        }
        
        vstack.left {
          border-bottom: 1px solid #D9D9D9;
        }
        
        textarea {
          height: 140px;
        }
        
      }
      
      hstack {
        display: flex;
        align-self: stretch;
        align-items: center;
        flex-direction: row;
      }
      
      vstack {
        display: flex;
        align-self: stretch;
        flex: 1 1 auto;
        flex-direction: column;
      }
      
      spacer {
        flex: 1;
      }
      
      
    </style>
  </head>
  <body>
    <hstack id="regular-version" class="container" x-data="{
      isRunning: false,
      specification: `function testAdder() {
  const sut = new Adder(1, 2);
  assert(sut.result === 3);
}

testAdder();`,
      generatedCode: '',
      currentIteration: 0,
      status: null,

      run() {
        this.isRunning = true;
        this.generatedCode = '';
        this.currentIteration = 0;
        this.status = null;

        let count = 0;
        const interval = setInterval(() => {
          count++;
          this.generatedCode = `Generated ${count}`;
          this.status = 'failure';
          this.currentIteration = count;

          if (count >= 5) {
            clearInterval(interval);
            this.isRunning = false;
            this.status = 'success';
          }
        }, 600);
      }
    }">
      
      <vstack class="left">
        <hstack class="header">
          <spacer></spacer>
          <button id="run-button" 
            @click="run" 
            :disabled="isRunning" 
            :class="{ 'canRun': !isRunning }">
            <?xml version="1.0" encoding="UTF-8"?>
            <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <title>192x192@1x</title>
              <defs>
                <path d="M17.6313437,9.40334243 L2.96465625,2.06999755 C2.758,1.96734128 2.5133125,1.97799753 2.31665625,2.0993413 C2.12,2.22134132 2,2.43534135 2,2.66665389 L2,17.3333124 C2,17.5646562 2.12,17.7786562 2.31665625,17.9006562 C2.4233125,17.9666562 2.54465625,18 2.66665625,18 C2.76865625,18 2.87065625,17.9766562 2.96465625,17.93 L17.6313125,10.5966551 C17.8573437,10.4833426 18,10.2526551 18,10 C18,9.74734248 17.8573437,9.51665494 17.6313437,9.40334243 Z" id="path-1"></path>
                <filter x="-46.9%" y="-34.4%" width="194.9%" height="193.5%" filterUnits="objectBoundingBox" id="filter-2">
                  <feMorphology radius="0.5" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>
                  <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>
                  <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                  <feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite>
                  <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.100305944 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
              </defs>
              <g id="192x192" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <rect fill="#FFFFFF" x="0" y="0" width="20" height="20"></rect>
                <g id="Trazado" fill-rule="nonzero">
                  <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use>
                  <use stroke="#737373" stroke-width="1" fill="#E3E3E3" xlink:href="#path-1"></use>
                </g>
              </g>
            </svg>

          </button>
        </hstack>
        
        <textarea id="specs" class="jet" x-model="specification"></textarea>
      </vstack>
      
      <vstack class="right grid-background">
        <hstack class="header">
          <div id="activity-indicator" class="ispinner" x-show="isRunning">
            <div class="ispinner-blade"></div>
            <div class="ispinner-blade"></div>
            <div class="ispinner-blade"></div>
            <div class="ispinner-blade"></div>
            <div class="ispinner-blade"></div>
            <div class="ispinner-blade"></div>
            <div class="ispinner-blade"></div>
            <div class="ispinner-blade"></div>
          </div>
          
          <style>
            .ispinner {
              position: relative;
              width: 20px;
              height: 20px; }
            .ispinner .ispinner-blade {
              position: absolute;
              top: 6.5px;
              left: 8.5px;
              width: 2.5px;
              height: 6.5px;
              background-color: #8e8e93;
              border-radius: 1.25px;
              animation: iSpinnerBlade 1s linear infinite;
              will-change: opacity; }
            .ispinner .ispinner-blade:nth-child(1) {
              transform: rotate(45deg) translateY(-6.5px);
              animation-delay: -1.625s; }
            .ispinner .ispinner-blade:nth-child(2) {
              transform: rotate(90deg) translateY(-6.5px);
              animation-delay: -1.5s; }
            .ispinner .ispinner-blade:nth-child(3) {
              transform: rotate(135deg) translateY(-6.5px);
              animation-delay: -1.375s; }
            .ispinner .ispinner-blade:nth-child(4) {
              transform: rotate(180deg) translateY(-6.5px);
              animation-delay: -1.25s; }
            .ispinner .ispinner-blade:nth-child(5) {
              transform: rotate(225deg) translateY(-6.5px);
              animation-delay: -1.125s; }
            .ispinner .ispinner-blade:nth-child(6) {
              transform: rotate(270deg) translateY(-6.5px);
              animation-delay: -1s; }
            .ispinner .ispinner-blade:nth-child(7) {
              transform: rotate(315deg) translateY(-6.5px);
              animation-delay: -0.875s; }
            .ispinner .ispinner-blade:nth-child(8) {
              transform: rotate(360deg) translateY(-6.5px);
              animation-delay: -0.75s; }
            .ispinner.ispinner-large {
              width: 35px;
              height: 35px; }
            .ispinner.ispinner-large .ispinner-blade {
              top: 11.5px;
              left: 15px;
              width: 5px;
              height: 12px;
              border-radius: 2.5px; }
            .ispinner.ispinner-large .ispinner-blade:nth-child(1) {
              transform: rotate(45deg) translateY(-11.5px); }
            .ispinner.ispinner-large .ispinner-blade:nth-child(2) {
              transform: rotate(90deg) translateY(-11.5px); }
            .ispinner.ispinner-large .ispinner-blade:nth-child(3) {
              transform: rotate(135deg) translateY(-11.5px); }
            .ispinner.ispinner-large .ispinner-blade:nth-child(4) {
              transform: rotate(180deg) translateY(-11.5px); }
            .ispinner.ispinner-large .ispinner-blade:nth-child(5) {
              transform: rotate(225deg) translateY(-11.5px); }
            .ispinner.ispinner-large .ispinner-blade:nth-child(6) {
              transform: rotate(270deg) translateY(-11.5px); }
            .ispinner.ispinner-large .ispinner-blade:nth-child(7) {
              transform: rotate(315deg) translateY(-11.5px); }
            .ispinner.ispinner-large .ispinner-blade:nth-child(8) {
              transform: rotate(360deg) translateY(-11.5px); }
            
            @keyframes iSpinnerBlade {
              0% {
                opacity: 0.85; }
              50% {
                opacity: 0.25; }
              100% {
                opacity: 0.25; } }
          </style>

          
          <spacer></spacer>
          <div class="status-indicator">
            <div id="success-indicator" x-show="status === 'success'">
              <div id="success-indicator">
                <?xml version="1.0" encoding="UTF-8"?>
                <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>192x192 copia@1x</title>
                  <g id="192x192-copia" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <circle id="Óvalo" stroke="#81B284" fill="#CEF6D1" cx="10" cy="10" r="8"></circle>
                    <line x1="6" y1="10.4615385" x2="8.46153846" y2="12.9230769" id="Línea-3" stroke="#0D4A11" stroke-width="1.5" stroke-linecap="square"></line>
                    <line x1="8.46153846" y1="12.9230769" x2="13.3846154" y2="8" id="Línea-4" stroke="#0D4A11" stroke-width="1.5" stroke-linecap="square"></line>
                  </g>
                </svg>
              </div>
            </div>
            <div id="failure-indicator" x-show="status === 'failure'">
              <div id="failure-indicator">
                <?xml version="1.0" encoding="UTF-8"?>
                <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>192x192 copia 3@1x</title>
                  <g id="192x192-copia-3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="Grupo" transform="translate(2, 2)" fill="#F6CECE" stroke="#B26868">
                      <circle id="Óvalo" cx="8" cy="8" r="8"></circle>
                    </g>
                    <g id="Grupo-2" transform="translate(7, 7)" stroke="#4A0D0D" stroke-linecap="square" stroke-width="1.5">
                      <line x1="0.719389322" y1="0.375" x2="5.96938932" y2="5.625" id="Línea-3"></line>
                      <line x1="5.625" y1="0.375" x2="0.375" y2="5.625" id="Línea-6"></line>
                    </g>
                  </g>
                </svg>
              </div>
            </div>
          </div>
        </hstack>
        
        <textarea id="generated-code" class="jet" readonly x-model="generatedCode"></textarea>
        
        <hstack id="count">
          <spacer></spacer>
          <span id="iteration-count" x-show="status !== null" x-text="`${currentIteration} of 5`"></span>
        </hstack>
      </vstack>
      
    </hstack>
    <script>
      document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
        ':35729/livereload.js?snipver=2"></' + 'script>')
    </script>
  </body>
</html>
  